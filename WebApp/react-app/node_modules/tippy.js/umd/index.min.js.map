{"version":3,"file":"index.min.js","sources":["../src/browser.ts","../src/props.ts","../src/ponyfills.ts","../src/constants.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/bindGlobalEventListeners.ts","../src/createTippy.ts","../src/index.ts","../src/group.ts"],"sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS =\n  isBrowser &&\n  /iPhone|iPad|iPod/.test(navigator.platform) &&\n  !(window as any).MSStream\n","import { Props } from './types'\n\nexport const defaultProps: Props = {\n  a11y: true,\n  allowHTML: true,\n  animateFill: true,\n  animation: 'shift-away',\n  appendTo: () => document.body,\n  aria: 'describedby',\n  arrow: false,\n  arrowType: 'sharp',\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [325, 275],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  followCursor: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onHidden() {},\n  onHide() {},\n  onMount() {},\n  onShow() {},\n  onShown() {},\n  onTrigger() {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnInit: false,\n  size: 'regular',\n  sticky: false,\n  target: '',\n  theme: 'dark',\n  touch: true,\n  touchHold: false,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  updateDuration: 0,\n  wait: null,\n  zIndex: 9999,\n}\n\n/**\n * If the set() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES: Array<keyof Props> = [\n  'arrow',\n  'arrowType',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","import { isBrowser } from './browser'\n\nconst elementProto: Record<string, any> = isBrowser ? Element.prototype : {}\n\nexport const matches =\n  elementProto.matches ||\n  elementProto.matchesSelector ||\n  elementProto.webkitMatchesSelector ||\n  elementProto.mozMatchesSelector ||\n  elementProto.msMatchesSelector\n\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Ponyfill for Element.prototype.closest\n */\nexport function closest(element: Element, selector: string): Element | null {\n  return closestCallback(element, (el: Element) => matches.call(el, selector))\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | null {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n    element = element.parentElement\n  }\n  return null\n}\n","// Passive event listener config\nexport const PASSIVE = { passive: true }\n\n// Popper `preventOverflow` padding\nexport const PADDING = 4\n\n// Popper attributes\n// In Popper v2 these will be `data-*` instead of `x-*` to adhere to HTML5 spec\nexport const PLACEMENT_ATTRIBUTE = 'x-placement'\nexport const OUT_OF_BOUNDARIES_ATTRIBUTE = 'x-out-of-boundaries'\n\n// Classes\nexport const IOS_CLASS = 'tippy-iOS'\nexport const ACTIVE_CLASS = 'tippy-active'\n\n// Selectors\nexport const POPPER_SELECTOR = '.tippy-popper'\nexport const TOOLTIP_SELECTOR = '.tippy-tooltip'\nexport const CONTENT_SELECTOR = '.tippy-content'\nexport const BACKDROP_SELECTOR = '.tippy-backdrop'\nexport const ARROW_SELECTOR = '.tippy-arrow'\nexport const ROUND_ARROW_SELECTOR = '.tippy-roundarrow'\n","import { Props, VirtualReference, ReferenceElement } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeOptions(\n  reference: ReferenceElement | VirtualReference,\n): Props {\n  return keys.reduce((acc: any, key) => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n}\n\n/**\n * Polyfills the virtual reference (plain object) with Element.prototype props\n * Mutating because DOM elements are mutated, adds `_tippy` property\n */\nexport function polyfillElementPrototypeProperties(\n  virtualReference: VirtualReference & Record<string, any>,\n): void {\n  const polyfills: Record<string, any> = {\n    isVirtual: true,\n    attributes: virtualReference.attributes || {},\n    setAttribute(key: string, value: any) {\n      virtualReference.attributes[key] = value\n    },\n    getAttribute(key: string) {\n      return virtualReference.attributes[key]\n    },\n    removeAttribute(key: string) {\n      delete virtualReference.attributes[key]\n    },\n    hasAttribute(key: string) {\n      return key in virtualReference.attributes\n    },\n    addEventListener() {},\n    removeEventListener() {},\n    classList: {\n      classNames: {},\n      add(key: string) {\n        virtualReference.classList.classNames[key] = true\n      },\n      remove(key: string) {\n        delete virtualReference.classList.classNames[key]\n      },\n      contains(key: string) {\n        return key in virtualReference.classList.classNames\n      },\n    },\n  }\n\n  for (const key in polyfills) {\n    virtualReference[key] = polyfills[key]\n  }\n}\n","import {\n  Options,\n  Props,\n  ReferenceElement,\n  Targets,\n  VirtualReference,\n} from './types'\nimport { arrayFrom, matches } from './ponyfills'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeOptions } from './reference'\nimport { POPPER_SELECTOR } from './constants'\n\n/**\n * Determines if a value is a \"bare\" virtual element (before mutations done\n * by `polyfillElementPrototypeProperties()`). JSDOM elements show up as\n * [object Object], we can check if the value is \"element-like\" if it has\n * `addEventListener`\n */\nexport function isBareVirtualElement(value: any): boolean {\n  return (\n    {}.toString.call(value) === '[object Object]' && !value.addEventListener\n  )\n}\n\n/**\n * Determines if the value is a reference element\n */\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!value._tippy && !matches.call(value, POPPER_SELECTOR)\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isSingular(value)) {\n    // TODO: VirtualReference is not compatible to type Element\n    return [value as Element]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  try {\n    return arrayFrom(document.querySelectorAll(value))\n  } catch (e) {\n    return []\n  }\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValue(value: any, index: number, defaultValue: any): any {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null ? defaultValue : v\n  }\n  return value\n}\n\n/**\n * Debounce utility\n */\nexport function debounce(fn: Function, ms: number): () => void {\n  let timeoutId: number\n  return function() {\n    clearTimeout(timeoutId)\n    // @ts-ignore\n    timeoutId = setTimeout(() => fn.apply(this, arguments), ms)\n  }\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if an array or string includes a value\n */\nexport function includes(a: any[] | string, b: any): boolean {\n  return a.indexOf(b) > -1\n}\n\n/**\n * Determines if the value is a real element\n */\nexport function isRealElement(value: any): value is Element {\n  return value instanceof Element\n}\n\n/**\n * Determines if the value is singular-like\n */\nexport function isSingular(value: any): value is VirtualReference | Element {\n  return !!(value && hasOwnProperty(value, 'isVirtual')) || isRealElement(value)\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value.apply(null, args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter(m => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Determines if an element can receive focus\n * Always returns true for virtual objects\n */\nexport function canReceiveFocus(element: Element): boolean {\n  return element instanceof Element\n    ? matches.call(\n        element,\n        'a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]',\n      ) && !element.hasAttribute('disabled')\n    : true\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`\n    }\n  })\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.setAttribute('data-state', state)\n    }\n  })\n}\n\n/**\n * Evaluates the props object by merging data attributes and\n * disabling conflicting options where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement | VirtualReference,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeOptions(reference)),\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  return out\n}\n\n/**\n * Validates an object of options with the valid default props object\n */\nexport function validateOptions(options: Options, defaultProps: Props): void {\n  Object.keys(options).forEach(option => {\n    if (!hasOwnProperty(defaultProps, option)) {\n      throw new Error(`[tippy]: \\`${option}\\` is not a valid option`)\n    }\n  })\n}\n","import {\n  PopperElement,\n  Props,\n  PopperChildren,\n  HideAllOptions,\n  BasicPlacement,\n} from './types'\nimport { arrayFrom } from './ponyfills'\nimport { innerHTML, div, isReferenceElement } from './utils'\nimport { isUCBrowser } from './browser'\nimport {\n  TOOLTIP_SELECTOR,\n  BACKDROP_SELECTOR,\n  CONTENT_SELECTOR,\n  ARROW_SELECTOR,\n  ROUND_ARROW_SELECTOR,\n  POPPER_SELECTOR,\n  PLACEMENT_ATTRIBUTE,\n} from './constants'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = html instanceof Element ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (props.content instanceof Element) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(TOOLTIP_SELECTOR) as HTMLDivElement,\n    backdrop: popper.querySelector(BACKDROP_SELECTOR),\n    content: popper.querySelector(CONTENT_SELECTOR) as HTMLDivElement,\n    arrow:\n      popper.querySelector(ARROW_SELECTOR) ||\n      popper.querySelector(ROUND_ARROW_SELECTOR),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(\n  arrowType: Props['arrowType'],\n): HTMLDivElement {\n  const arrow = div()\n  if (arrowType === 'round') {\n    arrow.className = 'tippy-roundarrow'\n    setInnerHTML(\n      arrow,\n      '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>',\n    )\n  } else {\n    arrow.className = 'tippy-arrow'\n  }\n  return arrow\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = 'tippy-backdrop'\n  backdrop.setAttribute('data-state', 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.setAttribute('tabindex', '-1')\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.removeAttribute('tabindex')\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function updateTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  // UC Browser hasn't adopted the `transitionend` event despite supporting\n  // unprefixed transitions...\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getBasicPlacement(popper: PopperElement): BasicPlacement {\n  const fullPlacement = popper.getAttribute(PLACEMENT_ATTRIBUTE)\n  return (fullPlacement ? fullPlacement.split('-')[0] : '') as BasicPlacement\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function updateTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  theme.split(' ').forEach(themeName => {\n    tooltip.classList[action](themeName + '-theme')\n  })\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = 'tippy-popper'\n  popper.id = `tippy-${id}`\n  popper.style.zIndex = '' + props.zIndex\n  if (props.role) {\n    popper.setAttribute('role', props.role)\n  }\n\n  const tooltip = div()\n  tooltip.className = 'tippy-tooltip'\n  tooltip.style.maxWidth =\n    props.maxWidth + (typeof props.maxWidth === 'number' ? 'px' : '')\n  tooltip.setAttribute('data-size', props.size)\n  tooltip.setAttribute('data-animation', props.animation)\n  tooltip.setAttribute('data-state', 'hidden')\n  updateTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = 'tippy-content'\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(popper, tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.appendChild(createArrowElement(props.arrowType))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n  tooltip.setAttribute('data-size', nextProps.size)\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n  if (nextProps.role) {\n    popper.setAttribute('role', nextProps.role)\n  } else {\n    popper.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    tooltip.appendChild(createArrowElement(nextProps.arrowType))\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    tooltip.removeChild(arrow!)\n  }\n\n  // arrowType\n  if (\n    prevProps.arrow &&\n    nextProps.arrow &&\n    prevProps.arrowType !== nextProps.arrowType\n  ) {\n    tooltip.replaceChild(createArrowElement(nextProps.arrowType), arrow!)\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(popper, tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(popper, tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    updateTheme(tooltip, 'remove', prevProps.theme)\n    updateTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Hides all visible poppers on the document\n */\nexport function hideAll({\n  checkHideOnClick,\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}): void {\n  arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(\n    (popper: PopperElement) => {\n      const instance = popper._tippy\n\n      if (instance) {\n        const shouldHideDueToHideOnClickOption = checkHideOnClick\n          ? instance.props.hideOnClick === true\n          : true\n\n        let isExcluded = false\n        if (excludedReferenceOrInstance) {\n          isExcluded = isReferenceElement(excludedReferenceOrInstance)\n            ? instance.reference === excludedReferenceOrInstance\n            : popper === excludedReferenceOrInstance.popper\n        }\n\n        if (shouldHideDueToHideOnClickOption && !isExcluded) {\n          instance.hide(duration)\n        }\n      }\n    },\n  )\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasicPlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n\n/**\n * Returns the distance offset, taking into account the default offset due to\n * the transform: translate() rule (10px) in CSS\n */\nexport function getOffsetDistanceInPx(distance: number): string {\n  return -(distance - 10) + 'px'\n}\n","import { PopperElement, ReferenceElement } from './types'\nimport { closest, closestCallback } from './ponyfills'\nimport { isIOS } from './browser'\nimport { hideAll } from './popper'\nimport { includes } from './utils'\nimport { PASSIVE, IOS_CLASS, POPPER_SELECTOR } from './constants'\n\nexport let isUsingTouch = false\n\nexport function onDocumentTouch(): void {\n  if (isUsingTouch) {\n    return\n  }\n\n  isUsingTouch = true\n\n  if (isIOS) {\n    document.body.classList.add(IOS_CLASS)\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\nlet lastMouseMoveTime = 0\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  // Chrome 60+ is 1 mousemove per animation frame, use 20ms time difference\n  if (now - lastMouseMoveTime < 20) {\n    isUsingTouch = false\n\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n\n    if (!isIOS) {\n      document.body.classList.remove(IOS_CLASS)\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\nexport function onDocumentClick(event: MouseEvent): void {\n  // Simulated events dispatched on the document\n  if (!(event.target instanceof Element)) {\n    return hideAll()\n  }\n\n  // Clicked on an interactive popper\n  const popper = closest(event.target, POPPER_SELECTOR) as PopperElement\n  if (popper && popper._tippy && popper._tippy.props.interactive) {\n    return\n  }\n\n  // Clicked on a reference\n  const reference: ReferenceElement | null = closestCallback(\n    event.target,\n    (el: ReferenceElement) => el._tippy && el._tippy.reference === el,\n  )\n  if (reference) {\n    const instance = reference._tippy\n\n    if (instance) {\n      const isClickTrigger = includes(instance.props.trigger || '', 'click')\n\n      if (isUsingTouch || isClickTrigger) {\n        return hideAll({ exclude: reference, checkHideOnClick: true })\n      }\n\n      if (instance.props.hideOnClick !== true || isClickTrigger) {\n        return\n      }\n\n      instance.clearDelayTimeouts()\n    }\n  }\n\n  hideAll({ checkHideOnClick: true })\n}\n\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n  if (activeElement && activeElement.blur && activeElement._tippy) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('click', onDocumentClick, true)\n  document.addEventListener('touchstart', onDocumentTouch, PASSIVE)\n  window.addEventListener('blur', onWindowBlur)\n}\n","import Popper from 'popper.js'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Options,\n  Instance,\n  Content,\n  Listener,\n  VirtualReference,\n} from './types'\nimport { isIE } from './browser'\nimport { closest, closestCallback, arrayFrom } from './ponyfills'\nimport {\n  PASSIVE,\n  PADDING,\n  PLACEMENT_ATTRIBUTE,\n  OUT_OF_BOUNDARIES_ATTRIBUTE,\n  ACTIVE_CLASS,\n  POPPER_SELECTOR,\n} from './constants'\nimport { isUsingTouch } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  getChildren,\n  getBasicPlacement,\n  updateTransitionEndListener,\n  isCursorOutsideInteractiveBorder,\n  getOffsetDistanceInPx,\n  reflow,\n} from './popper'\nimport {\n  hasOwnProperty,\n  debounce,\n  getValue,\n  getModifier,\n  includes,\n  invokeWithArgsOrReturn,\n  setFlipModifierEnabled,\n  canReceiveFocus,\n  validateOptions,\n  evaluateProps,\n  setTransitionDuration,\n  setVisibilityState,\n  isRealElement,\n} from './utils'\n\nlet idCounter = 1\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement | VirtualReference,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= 🔒 Private members 🔒 ======================= */\n  let lastTriggerEventType: string\n  let lastMouseMoveEvent: MouseEvent\n  let showTimeoutId: number\n  let hideTimeoutId: number\n  let animationFrameId: number\n  let isScheduledToShow = false\n  let currentParentNode: Element\n  let previousPlacement: string\n  let wasVisibleDuringPreviousUpdate = false\n  let hasMountCallbackRun = false\n  let currentMountCallback: () => void\n  let currentTransitionEndListener: (event: TransitionEvent) => void\n  let listeners: Listener[] = []\n  let currentComputedPadding: {\n    top: number\n    bottom: number\n    left: number\n    right: number\n    [key: string]: number\n  }\n  let debouncedOnMouseMove =\n    props.interactiveDebounce > 0\n      ? debounce(onMouseMove, props.interactiveDebounce)\n      : onMouseMove\n\n  /* ======================= 🔑 Public members 🔑 ======================= */\n  const id = idCounter++\n  const popper = createPopperElement(id, props)\n  const popperChildren = getChildren(popper)\n  const popperInstance: PopperInstance | null = null\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    set,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  /* ==================== Initial instance mutations =================== */\n  reference._tippy = instance\n  popper._tippy = instance\n  getEventListenersTarget()._tippy = instance\n\n  addTriggersToReference()\n\n  if (!props.lazy) {\n    createPopperInstance()\n  }\n\n  if (props.showOnInit) {\n    scheduleShow()\n  }\n\n  // Ensure the reference element can receive focus (and is not a delegate)\n  if (props.a11y && !props.target && !canReceiveFocus(reference as Element)) {\n    getEventListenersTarget().setAttribute('tabindex', '0')\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', (event: MouseEvent) => {\n    if (\n      instance.props.interactive &&\n      instance.state.isVisible &&\n      lastTriggerEventType === 'mouseenter'\n    ) {\n      // We don't want props.onTrigger() to be called here, since the `event`\n      // object is not related to the reference element\n      scheduleShow(event, true)\n    }\n  })\n  popper.addEventListener('mouseleave', () => {\n    if (instance.props.interactive && lastTriggerEventType === 'mouseenter') {\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n    }\n  })\n\n  return instance\n\n  /* ======================= 🔒 Private methods 🔒 ======================= */\n  /**\n   * Removes the follow cursor listener\n   */\n  function removeFollowCursorListener(): void {\n    document.removeEventListener(\n      'mousemove',\n      positionVirtualReferenceNearCursor,\n    )\n  }\n\n  /**\n   * Cleans up old listeners\n   */\n  function cleanupOldMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n  }\n\n  /**\n   * Returns correct target used for event listeners\n   */\n  function getEventListenersTarget(): ReferenceElement | VirtualReference {\n    return instance.props.triggerTarget || reference\n  }\n\n  /**\n   * Returns transitionable inner elements used in show/hide methods\n   */\n  function getTransitionableElements(): (HTMLDivElement | null)[] {\n    return [\n      instance.popperChildren.tooltip,\n      instance.popperChildren.backdrop,\n      instance.popperChildren.content,\n    ]\n  }\n\n  /**\n   * Determines if the instance is in `followCursor` mode\n   */\n  function hasFollowCursorBehavior(): boolean {\n    return (\n      instance.props.followCursor &&\n      !isUsingTouch &&\n      lastTriggerEventType !== 'focus'\n    )\n  }\n\n  /**\n   * Updates the tooltip's position on each animation frame\n   */\n  function makeSticky(): void {\n    setTransitionDuration([popper], isIE ? 0 : instance.props.updateDuration)\n\n    function updatePosition(): void {\n      instance.popperInstance!.scheduleUpdate()\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      } else {\n        setTransitionDuration([popper], 0)\n      }\n    }\n\n    updatePosition()\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned out\n   */\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, () => {\n      if (\n        !instance.state.isVisible &&\n        currentParentNode &&\n        currentParentNode.contains(popper)\n      ) {\n        callback()\n      }\n    })\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned in\n   */\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  /**\n   * Invokes a callback once the tooltip's CSS transition ends\n   */\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    const { tooltip } = instance.popperChildren\n\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        updateTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener)\n    updateTransitionEndListener(tooltip, 'add', listener)\n\n    currentTransitionEndListener = listener\n  }\n\n  /**\n   * Adds an event listener to the reference and stores it in `listeners`\n   */\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    getEventListenersTarget().addEventListener(eventType, handler, options)\n    listeners.push({ eventType, handler, options })\n  }\n\n  /**\n   * Adds event listeners to the reference based on the `trigger` prop\n   */\n  function addTriggersToReference(): void {\n    if (instance.props.touchHold && !instance.props.target) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    instance.props.trigger\n      .trim()\n      .split(' ')\n      .forEach(eventType => {\n        if (eventType === 'manual') {\n          return\n        }\n\n        // Non-delegates\n        if (!instance.props.target) {\n          on(eventType, onTrigger)\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseleave', onMouseLeave as EventListener)\n              break\n            case 'focus':\n              on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n              break\n          }\n        } else {\n          // Delegates\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseover', onDelegateShow)\n              on('mouseout', onDelegateHide)\n              break\n            case 'focus':\n              on('focusin', onDelegateShow)\n              on('focusout', onDelegateHide)\n              break\n            case 'click':\n              on(eventType, onDelegateShow)\n              break\n          }\n        }\n      })\n  }\n\n  /**\n   * Removes event listeners from the reference\n   */\n  function removeTriggersFromReference(): void {\n    listeners.forEach(({ eventType, handler, options }: Listener) => {\n      getEventListenersTarget().removeEventListener(eventType, handler, options)\n    })\n    listeners = []\n  }\n\n  /**\n   * Returns corrected preventOverflow padding if the instance has an arrow\n   */\n  function getCorrectedPadding(placement: string): number {\n    return instance.props.arrow\n      ? currentComputedPadding[placement] +\n          (instance.props.arrowType === 'round' ? 18 : 16)\n      : currentComputedPadding[placement]\n  }\n\n  /**\n   * Positions the virtual reference near the cursor\n   */\n  function positionVirtualReferenceNearCursor(event: MouseEvent): void {\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    // Gets set once popperInstance `onCreate` has been called\n    if (!currentComputedPadding) {\n      return\n    }\n\n    const rect = reference.getBoundingClientRect()\n    const { followCursor } = instance.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n\n    // Ensure virtual reference is padded to prevent tooltip from overflowing.\n    // Seems to be a Popper.js issue\n    const placement = getBasicPlacement(popper)\n    const isVerticalPlacement = includes(['top', 'bottom'], placement)\n    const isHorizontalPlacement = includes(['left', 'right'], placement)\n    const padding = { ...currentComputedPadding }\n\n    if (isVerticalPlacement) {\n      padding.left = getCorrectedPadding('left')\n      padding.right = getCorrectedPadding('right')\n    }\n\n    if (isHorizontalPlacement) {\n      padding.top = getCorrectedPadding('top')\n      padding.bottom = getCorrectedPadding('bottom')\n    }\n\n    // TODO: Remove the following later if Popper.js changes/fixes the\n    // behavior\n\n    // Top / left boundary\n    let x = isVerticalPlacement ? Math.max(padding.left, clientX) : clientX\n    let y = isHorizontalPlacement ? Math.max(padding.top, clientY) : clientY\n\n    // Bottom / right boundary\n    if (isVerticalPlacement && x > padding.right) {\n      x = Math.min(clientX, window.innerWidth - padding.right)\n    }\n    if (isHorizontalPlacement && y > padding.bottom) {\n      y = Math.min(clientY, window.innerHeight - padding.bottom)\n    }\n\n    // If the instance is interactive, avoid updating the position unless it's\n    // over the reference element\n    const isCursorOverReference = closestCallback(\n      event.target as Element,\n      (el: Element) => el === reference,\n    )\n\n    if (isCursorOverReference || !instance.props.interactive) {\n      instance.popperInstance!.reference = {\n        ...instance.popperInstance!.reference,\n        getBoundingClientRect: () => ({\n          width: 0,\n          height: 0,\n          top: isHorizontal ? rect.top : y,\n          bottom: isHorizontal ? rect.bottom : y,\n          left: isVertical ? rect.left : x,\n          right: isVertical ? rect.right : x,\n        }),\n        clientWidth: 0,\n        clientHeight: 0,\n      }\n\n      instance.popperInstance!.scheduleUpdate()\n    }\n\n    if (followCursor === 'initial' && instance.state.isVisible) {\n      removeFollowCursorListener()\n    }\n  }\n\n  /**\n   * Creates the tippy instance for a delegate when it's been triggered\n   */\n  function createDelegateChildTippy(event?: Event): void {\n    if (event) {\n      const targetEl: ReferenceElement | null = closest(\n        event.target as Element,\n        instance.props.target,\n      )\n\n      if (targetEl && !targetEl._tippy) {\n        createTippy(targetEl, {\n          ...instance.props,\n          content: invokeWithArgsOrReturn(collectionProps.content, [targetEl]),\n          appendTo: collectionProps.appendTo,\n          target: '',\n          showOnInit: true,\n        })\n      }\n    }\n  }\n\n  /**\n   * Event listener invoked upon trigger\n   */\n  function onTrigger(event: Event): void {\n    if (!instance.state.isEnabled || isEventListenerStopped(event)) {\n      return\n    }\n\n    if (!instance.state.isVisible) {\n      lastTriggerEventType = event.type\n\n      if (event instanceof MouseEvent) {\n        lastMouseMoveEvent = event\n      }\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide()\n    } else {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener used for interactive tooltips to detect when they should\n   * hide\n   */\n  function onMouseMove(event: MouseEvent): void {\n    const referenceTheCursorIsOver = closestCallback(\n      event.target as Element,\n      (el: ReferenceElement) => el._tippy,\n    )\n\n    const isCursorOverPopper =\n      closest(event.target as Element, POPPER_SELECTOR) === popper\n    const isCursorOverReference = referenceTheCursorIsOver === reference\n\n    if (isCursorOverPopper || isCursorOverReference) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getBasicPlacement(popper),\n        popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupOldMouseListeners()\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Event listener invoked upon mouseleave\n   */\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked upon blur\n   */\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== getEventListenersTarget()) {\n      return\n    }\n\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked when a child target is triggered\n   */\n  function onDelegateShow(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener invoked when a child target should hide\n   */\n  function onDelegateHide(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Determines if an event listener should stop further execution due to the\n   * `touchHold` option\n   */\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const { touchHold } = instance.props\n    return (\n      (supportsTouch && isUsingTouch && touchHold && !isTouchEvent) ||\n      (isUsingTouch && !touchHold && isTouchEvent)\n    )\n  }\n\n  /**\n   * Runs the mount callback\n   */\n  function runMountCallback(): void {\n    if (!hasMountCallbackRun && currentMountCallback) {\n      hasMountCallbackRun = true\n      reflow(popper)\n      currentMountCallback()\n    }\n  }\n\n  /**\n   * Creates the popper instance for the instance\n   */\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { tooltip, arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      // Apply all of the popper's attributes to the tootip node as well.\n      // Allows users to avoid using the .tippy-popper selector for themes.\n      tooltip.setAttribute(PLACEMENT_ATTRIBUTE, data.placement)\n      if (data.attributes[OUT_OF_BOUNDARIES_ATTRIBUTE] !== false) {\n        tooltip.setAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE, '')\n      } else {\n        tooltip.removeAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE)\n      }\n\n      // Prevents a transition when changing placements (while tippy is visible)\n      // for scroll/resize updates\n      if (\n        previousPlacement &&\n        previousPlacement !== data.placement &&\n        wasVisibleDuringPreviousUpdate\n      ) {\n        tooltip.style.transition = 'none'\n        requestAnimationFrame(() => {\n          tooltip.style.transition = ''\n        })\n      }\n      previousPlacement = data.placement\n      wasVisibleDuringPreviousUpdate = instance.state.isVisible\n\n      const basicPlacement = getBasicPlacement(popper)\n      const styles = tooltip.style\n\n      // Account for the `distance` offset\n      styles.top = styles.bottom = styles.left = styles.right = ''\n      styles[basicPlacement] = getOffsetDistanceInPx(instance.props.distance)\n\n      const padding =\n        preventOverflowModifier && preventOverflowModifier.padding !== undefined\n          ? preventOverflowModifier.padding\n          : PADDING\n      const isPaddingNumber = typeof padding === 'number'\n\n      const computedPadding = {\n        top: isPaddingNumber ? padding : padding.top,\n        bottom: isPaddingNumber ? padding : padding.bottom,\n        left: isPaddingNumber ? padding : padding.left,\n        right: isPaddingNumber ? padding : padding.right,\n        ...(!isPaddingNumber && padding),\n      }\n\n      computedPadding[basicPlacement] = isPaddingNumber\n        ? padding + instance.props.distance\n        : (padding[basicPlacement] || 0) + instance.props.distance\n\n      instance.popperInstance!.modifiers.filter(\n        m => m.name === 'preventOverflow',\n      )[0].padding = computedPadding\n\n      currentComputedPadding = computedPadding\n    }\n\n    const config = {\n      eventsEnabled: false,\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions ? popperOptions.modifiers : {}),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PADDING,\n          ...preventOverflowModifier,\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          // The tooltip is offset by 10px from the popper in CSS,\n          // we need to account for its distance\n          padding: instance.props.distance + PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      onCreate(data: Popper.Data) {\n        runMountCallback()\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onCreate) {\n          popperOptions.onCreate(data)\n        }\n      },\n      onUpdate(data: Popper.Data) {\n        runMountCallback()\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onUpdate) {\n          popperOptions.onUpdate(data)\n        }\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      reference,\n      popper,\n      config,\n    ) as PopperInstance\n  }\n\n  /**\n   * Mounts the tooltip to the DOM\n   */\n  function mount(): void {\n    hasMountCallbackRun = false\n\n    const shouldEnableListeners =\n      !hasFollowCursorBehavior() &&\n      !(instance.props.followCursor === 'initial' && isUsingTouch)\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n\n      if (shouldEnableListeners) {\n        instance.popperInstance!.enableEventListeners()\n      }\n    } else {\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance.scheduleUpdate()\n\n        if (shouldEnableListeners) {\n          instance.popperInstance.enableEventListeners()\n        }\n      }\n\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n    }\n\n    // If the instance previously had followCursor behavior, it will be\n    // positioned incorrectly if triggered by `focus` afterwards.\n    // Update the reference back to the real DOM element\n    instance.popperInstance!.reference = reference\n    const { arrow } = instance.popperChildren\n\n    if (hasFollowCursorBehavior()) {\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n      if (lastMouseMoveEvent) {\n        positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      }\n    } else if (arrow) {\n      arrow.style.margin = ''\n    }\n\n    // Allow followCursor: 'initial' on touch devices\n    if (\n      isUsingTouch &&\n      lastMouseMoveEvent &&\n      instance.props.followCursor === 'initial'\n    ) {\n      positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n    }\n\n    const { appendTo } = instance.props\n\n    currentParentNode =\n      appendTo === 'parent'\n        ? reference.parentNode\n        : invokeWithArgsOrReturn(appendTo, [reference])\n\n    if (!currentParentNode.contains(popper)) {\n      currentParentNode.appendChild(popper)\n      instance.props.onMount(instance)\n      instance.state.isMounted = true\n    }\n  }\n\n  /**\n   * Setup before show() is invoked (delays, etc.)\n   */\n  function scheduleShow(\n    event?: Event,\n    shouldAvoidCallingOnTrigger?: boolean,\n  ): void {\n    clearDelayTimeouts()\n\n    if (instance.state.isVisible) {\n      return\n    }\n\n    // Is a delegate, create an instance for the child target\n    if (instance.props.target) {\n      return createDelegateChildTippy(event)\n    }\n\n    isScheduledToShow = true\n\n    if (event && !shouldAvoidCallingOnTrigger) {\n      instance.props.onTrigger(instance, event)\n    }\n\n    if (instance.props.wait) {\n      return instance.props.wait(instance, event)\n    }\n\n    // If the tooltip has a delay, we need to be listening to the mousemove as\n    // soon as the trigger event is fired, so that it's in the correct position\n    // upon mount.\n    // Edge case: if the tooltip is still mounted, but then scheduleShow() is\n    // called, it causes a jump.\n    if (hasFollowCursorBehavior() && !instance.state.isMounted) {\n      if (!instance.popperInstance) {\n        createPopperInstance()\n      }\n      document.addEventListener('mousemove', positionVirtualReferenceNearCursor)\n    }\n\n    const delay = getValue(instance.props.delay, 0, defaultProps.delay)\n\n    if (delay) {\n      showTimeoutId = setTimeout(() => {\n        show()\n      }, delay)\n    } else {\n      show()\n    }\n  }\n\n  /**\n   * Setup before hide() is invoked (delays, etc.)\n   */\n  function scheduleHide(): void {\n    clearDelayTimeouts()\n\n    if (!instance.state.isVisible) {\n      return removeFollowCursorListener()\n    }\n\n    isScheduledToShow = false\n\n    const delay = getValue(instance.props.delay, 1, defaultProps.delay)\n\n    if (delay) {\n      hideTimeoutId = setTimeout(() => {\n        if (instance.state.isVisible) {\n          hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      animationFrameId = requestAnimationFrame(() => {\n        hide()\n      })\n    }\n  }\n\n  /* ======================= 🔑 Public methods 🔑 ======================= */\n  /**\n   * Enables the instance to allow it to show or hide\n   */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  /**\n   * Disables the instance to disallow it to show or hide\n   */\n  function disable(): void {\n    instance.state.isEnabled = false\n  }\n\n  /**\n   * Clears pending timeouts related to the `delay` prop if any\n   */\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeoutId)\n    clearTimeout(hideTimeoutId)\n    cancelAnimationFrame(animationFrameId)\n  }\n\n  /**\n   * Sets new props for the instance and redraws the tooltip\n   */\n  function set(options: Options): void {\n    // Backwards-compatible after TypeScript change\n    options = options || {}\n\n    validateOptions(options, defaultProps)\n\n    removeTriggersFromReference()\n\n    if (instance.props.triggerTarget) {\n      delete instance.props.triggerTarget._tippy\n    }\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(reference, {\n      ...instance.props,\n      ...options,\n      ignoreAttributes: true,\n    })\n    nextProps.ignoreAttributes = hasOwnProperty(options, 'ignoreAttributes')\n      ? options.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n    instance.props = nextProps\n\n    getEventListenersTarget()._tippy = instance\n\n    addTriggersToReference()\n\n    cleanupOldMouseListeners()\n    debouncedOnMouseMove = debounce(\n      onMouseMove,\n      options.interactiveDebounce || 0,\n    )\n\n    updatePopperElement(popper, prevProps, nextProps)\n    instance.popperChildren = getChildren(popper)\n\n    if (instance.popperInstance) {\n      instance.popperInstance.update()\n\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some(prop => {\n          return (\n            hasOwnProperty(options, prop) && options[prop] !== prevProps[prop]\n          )\n        })\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n\n        if (instance.state.isVisible) {\n          instance.popperInstance.enableEventListeners()\n        }\n\n        if (instance.props.followCursor && lastMouseMoveEvent) {\n          positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n        }\n      }\n    }\n  }\n\n  /**\n   * Shortcut for .set({ content: newContent })\n   */\n  function setContent(content: Content): void {\n    set({ content })\n  }\n\n  /**\n   * Shows the tooltip\n   */\n  function show(\n    duration: number = getValue(\n      instance.props.duration,\n      0,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (\n      instance.state.isDestroyed ||\n      !instance.state.isEnabled ||\n      (isUsingTouch && !instance.props.touch)\n    ) {\n      return\n    }\n\n    // Standardize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getEventListenersTarget().hasAttribute('disabled')) {\n      return\n    }\n\n    if (instance.props.onShow(instance) === false) {\n      return\n    }\n\n    popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    if (instance.props.interactive) {\n      getEventListenersTarget().classList.add(ACTIVE_CLASS)\n    }\n\n    // Prevent a transition if the popper is at the opposite placement\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements.concat(popper), 0)\n\n    currentMountCallback = () => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      // Double update will apply correct mutations\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance!.update()\n      }\n\n      if (instance.popperChildren.backdrop) {\n        instance.popperChildren.content.style.transitionDelay =\n          Math.round(duration / 12) + 'ms'\n      }\n\n      if (instance.props.sticky) {\n        makeSticky()\n      }\n\n      setTransitionDuration([popper], instance.props.updateDuration)\n      setTransitionDuration(transitionableElements, duration)\n      setVisibilityState(transitionableElements, 'visible')\n\n      onTransitionedIn(duration, () => {\n        if (instance.props.aria) {\n          getEventListenersTarget().setAttribute(\n            `aria-${instance.props.aria}`,\n            popper.id,\n          )\n        }\n\n        instance.props.onShown(instance)\n        instance.state.isShown = true\n      })\n    }\n\n    mount()\n  }\n\n  /**\n   * Hides the tooltip\n   */\n  function hide(\n    duration: number = getValue(\n      instance.props.duration,\n      1,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (instance.state.isDestroyed || !instance.state.isEnabled) {\n      return\n    }\n\n    if (instance.props.onHide(instance) === false) {\n      return\n    }\n\n    popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n    wasVisibleDuringPreviousUpdate = false\n\n    if (instance.props.interactive) {\n      getEventListenersTarget().classList.remove(ACTIVE_CLASS)\n    }\n\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements, duration)\n    setVisibilityState(transitionableElements, 'hidden')\n\n    onTransitionedOut(duration, () => {\n      if (!isScheduledToShow) {\n        removeFollowCursorListener()\n      }\n\n      if (instance.props.aria) {\n        getEventListenersTarget().removeAttribute(`aria-${instance.props.aria}`)\n      }\n\n      instance.popperInstance!.disableEventListeners()\n      instance.popperInstance!.options.placement = instance.props.placement\n\n      currentParentNode.removeChild(popper)\n      instance.props.onHidden(instance)\n      instance.state.isMounted = false\n    })\n  }\n\n  /**\n   * Destroys the tooltip\n   */\n  function destroy(destroyTargetInstances?: boolean): void {\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    // If the popper is currently mounted to the DOM, we want to ensure it gets\n    // hidden and unmounted instantly upon destruction\n    if (instance.state.isMounted) {\n      hide(0)\n    }\n\n    removeTriggersFromReference()\n\n    delete reference._tippy\n    delete getEventListenersTarget()._tippy\n\n    const { target } = instance.props\n    if (target && destroyTargetInstances && isRealElement(reference)) {\n      arrayFrom(reference.querySelectorAll(target)).forEach(\n        (child: ReferenceElement) => {\n          if (child._tippy) {\n            child._tippy.destroy()\n          }\n        },\n      )\n    }\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    instance.state.isDestroyed = true\n  }\n}\n","import { version } from '../package.json'\nimport { isBrowser } from './browser'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners from './bindGlobalEventListeners'\nimport group from './group'\nimport { polyfillElementPrototypeProperties } from './reference'\nimport { arrayFrom } from './ponyfills'\nimport { hideAll } from './popper'\nimport {\n  isSingular,\n  isBareVirtualElement,\n  getArrayOfElements,\n  validateOptions,\n} from './utils'\nimport { Options, Props, Instance, Targets, VirtualReference } from './types'\n\nlet globalEventListenersBound = false\n\n/**\n * Exported module\n */\nfunction tippy(targets: Targets, options?: Options): Instance | Instance[] {\n  validateOptions(options || {}, defaultProps)\n\n  if (!globalEventListenersBound) {\n    bindGlobalEventListeners()\n    globalEventListenersBound = true\n  }\n\n  const props: Props = { ...defaultProps, ...options }\n\n  // If they are specifying a virtual positioning reference, we need to polyfill\n  // some native DOM props\n  if (isBareVirtualElement(targets)) {\n    polyfillElementPrototypeProperties(targets as VirtualReference)\n  }\n\n  const instances = getArrayOfElements(targets).reduce<Instance[]>(\n    (acc, reference) => {\n      const instance = reference && createTippy(reference, props)\n      if (instance) {\n        acc.push(instance)\n      }\n      return acc\n    },\n    [],\n  )\n\n  return isSingular(targets) ? instances[0] : instances\n}\n\n/**\n * Static props\n */\ntippy.version = version\ntippy.defaults = defaultProps\n\n/**\n * Static methods\n */\ntippy.setDefaults = (partialDefaults: Options) => {\n  Object.keys(partialDefaults).forEach(key => {\n    // @ts-ignore\n    defaultProps[key] = partialDefaults[key]\n  })\n}\ntippy.hideAll = hideAll\ntippy.group = group\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport function autoInit(): void {\n  arrayFrom(document.querySelectorAll('[data-tippy]')).forEach(el => {\n    const content = el.getAttribute('data-tippy')\n    if (content) {\n      tippy(el, { content })\n    }\n  })\n}\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n\nexport default tippy\n","import { GroupedInstance, GroupOptions } from './types'\n\n/**\n * Groups an array of instances by taking control of their props during\n * certain lifecycles.\n */\nexport default function group(\n  instances: GroupedInstance[],\n  { delay = instances[0].props.delay, duration = 0 }: GroupOptions = {},\n): void {\n  let isAnyTippyOpen = false\n\n  instances.forEach(instance => {\n    if (instance._originalProps) {\n      instance.set(instance._originalProps)\n    } else {\n      instance._originalProps = { ...instance.props }\n    }\n  })\n\n  function setIsAnyTippyOpen(value: boolean): void {\n    isAnyTippyOpen = value\n    updateInstances()\n  }\n\n  function onShow(instance: GroupedInstance): void {\n    instance._originalProps.onShow(instance)\n    instances.forEach(instance => {\n      instance.set({ duration })\n      instance.hide()\n    })\n    setIsAnyTippyOpen(true)\n  }\n\n  function onHide(instance: GroupedInstance): void {\n    instance._originalProps.onHide(instance)\n    setIsAnyTippyOpen(false)\n  }\n\n  function onShown(instance: GroupedInstance): void {\n    instance._originalProps.onShown(instance)\n    instance.set({ duration: instance._originalProps.duration })\n  }\n\n  function updateInstances(): void {\n    instances.forEach(instance => {\n      instance.set({\n        onShow,\n        onShown,\n        onHide,\n        delay: isAnyTippyOpen\n          ? [0, Array.isArray(delay) ? delay[1] : delay]\n          : delay,\n        duration: isAnyTippyOpen ? duration : instance._originalProps.duration,\n      })\n    })\n  }\n\n  updateInstances()\n}\n"],"names":["isBrowser","window","document","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","MSStream","defaultProps","a11y","allowHTML","animateFill","animation","appendTo","body","aria","arrow","arrowType","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","followCursor","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onHidden","onHide","onMount","onShow","onShown","onTrigger","placement","popperOptions","role","showOnInit","size","sticky","target","theme","touch","touchHold","trigger","triggerTarget","updateDuration","wait","zIndex","POPPER_INSTANCE_DEPENDENCIES","elementProto","Element","prototype","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","arrayFrom","value","slice","call","closest","element","selector","closestCallback","el","callback","parentElement","PASSIVE","passive","PADDING","PLACEMENT_ATTRIBUTE","OUT_OF_BOUNDARIES_ATTRIBUTE","IOS_CLASS","ACTIVE_CLASS","POPPER_SELECTOR","TOOLTIP_SELECTOR","CONTENT_SELECTOR","BACKDROP_SELECTOR","ARROW_SELECTOR","ROUND_ARROW_SELECTOR","keys","Object","hasOwnProperty","obj","key","getValue","index","defaultValue","Array","isArray","v","debounce","fn","ms","timeoutId","clearTimeout","setTimeout","apply","_this","arguments","getModifier","modifiers","includes","a","b","indexOf","isRealElement","isSingular","invokeWithArgsOrReturn","args","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","setTransitionDuration","els","forEach","style","transitionDuration","setVisibilityState","state","setAttribute","evaluateProps","reference","props","out","reduce","acc","valueAsString","getAttribute","trim","JSON","parse","e","getDataAttributeOptions","validateOptions","options","option","Error","setInnerHTML","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","backdrop","addInertia","createArrowElement","className","createBackdropElement","addInteractive","updateTransitionEndListener","action","listener","eventName","undefined","webkitTransition","getBasicPlacement","fullPlacement","split","updateTheme","themeName","classList","createPopperElement","id","updatePopperElement","prevProps","nextProps","removeAttribute","removeChild","replaceChild","removeInteractive","removeInertia","hideAll","checkHideOnClick","excludedReferenceOrInstance","exclude","querySelectorAll","instance","_tippy","shouldHideDueToHideOnClickOption","isExcluded","hide","isUsingTouch","onDocumentTouch","add","performance","addEventListener","onDocumentMouseMove","lastMouseMoveTime","now","removeEventListener","remove","onDocumentClick","event","isClickTrigger","clearDelayTimeouts","onWindowBlur","activeElement","blur","idCounter","createTippy","collectionProps","lastTriggerEventType","lastMouseMoveEvent","showTimeoutId","hideTimeoutId","animationFrameId","currentParentNode","previousPlacement","currentMountCallback","currentTransitionEndListener","currentComputedPadding","isScheduledToShow","wasVisibleDuringPreviousUpdate","hasMountCallbackRun","listeners","debouncedOnMouseMove","onMouseMove","popperChildren","popperInstance","isEnabled","isVisible","isDestroyed","isMounted","isShown","set","show","enable","disable","destroy","destroyTargetInstances","removeTriggersFromReference","getEventListenersTarget","child","addTriggersToReference","createPopperInstance","scheduleShow","hasAttribute","removeFollowCursorListener","positionVirtualReferenceNearCursor","cleanupOldMouseListeners","scheduleHide","getTransitionableElements","hasFollowCursorBehavior","onTransitionEnd","on","eventType","handler","push","onMouseLeave","onDelegateShow","onDelegateHide","onBlur","getCorrectedPadding","clientX","clientY","rect","getBoundingClientRect","isHorizontal","isVertical","isVerticalPlacement","isHorizontalPlacement","padding","left","right","top","bottom","x","Math","max","y","min","innerWidth","innerHeight","width","height","clientWidth","clientHeight","scheduleUpdate","isEventListenerStopped","type","MouseEvent","referenceTheCursorIsOver","popperPlacement","popperRect","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","relatedTarget","contains","supportsTouch","isTouchEvent","runMountCallback","offsetHeight","reflow","preventOverflowModifier","applyMutations","data","flipped","attributes","transition","requestAnimationFrame","basicPlacement","styles","isPaddingNumber","computedPadding","config","eventsEnabled","preventOverflow","boundariesElement","behavior","onCreate","onUpdate","Popper","shouldAvoidCallingOnTrigger","targetEl","createDelegateChildTippy","cancelAnimationFrame","update","some","prop","enableEventListeners","visibility","transitionableElements","concat","transitionDelay","round","updatePosition","onTransitionedIn","shouldEnableListeners","margin","parentNode","mount","onTransitionedOut","disableEventListeners","globalEventListenersBound","tippy","targets","toString","virtualReference","polyfills","isVirtual","classNames","polyfillElementPrototypeProperties","instances","NodeList","getArrayOfElements","version","defaults","setDefaults","partialDefaults","group","isAnyTippyOpen","setIsAnyTippyOpen","updateInstances","_originalProps"],"mappings":"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"}